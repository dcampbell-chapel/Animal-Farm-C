<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Squealer — Sketch-Note Report</title>
<style>
  :root{
    --bg:#fffdf7;
    --ink:#20201f;
    --accent:#ff7a59;
    --accent-2:#4f46e5;
    --paper:#fffaf0;
    --shadow:rgba(0,0,0,.08);
  }
  @media (prefers-color-scheme: dark){
    :root{
      --bg:#0e0e0d; --ink:#f4f1ea; --paper:#161513;
      --shadow:rgba(0,0,0,.4);
    }
  }
  *{box-sizing:border-box}
  html,body{margin:0;height:100%}
  body{
    font-family: ui-rounded, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji","Segoe UI Emoji";
    background: var(--bg);
    color: var(--ink);
    line-height:1.4;
  }
  .wrap{
    max-width:1100px; margin:0 auto; padding:clamp(16px,2vw,32px);
    position:relative;
  }
  /* dotted notebook bg */
  .wrap:before{
    content:""; position:fixed; inset:0; z-index:-1;
    background:
      radial-gradient(currentColor 0.6px, transparent 0.7px) 0 0/18px 18px;
    opacity:.06; pointer-events:none;
  }

  header{
    background: var(--paper);
    border:2.5px solid var(--ink);
    box-shadow: 6px 6px 0 var(--ink), 0 8px 24px var(--shadow);
    border-radius:18px;
    padding:22px 20px;
    position:relative;
    overflow:hidden;
  }
  header h1{
    margin:0 0 8px; font-size: clamp(28px, 5vw, 44px);
    display:inline-block; padding: 2px 10px 6px 10px;
    transform: rotate(-1deg);
    background: linear-gradient(transparent 60%, rgba(255,122,89,.25) 60%);
  }
  header p{margin:6px 0 0; max-width:70ch}
  .badge{
    position:absolute; right:16px; top:14px;
    background:#fff; color:var(--ink); border:2px solid var(--ink);
    padding:8px 12px; border-radius:999px; font-weight:700; font-size:12px;
    box-shadow:3px 3px 0 var(--ink);
  }
  /* little hand-drawn arrow */
  .arrow{
    position:absolute; left:-12px; bottom:-8px; width:220px; height:120px; pointer-events:none;
  }
  .arrow path{stroke:var(--ink); stroke-width:3.5; fill:none; stroke-linecap:round; stroke-linejoin:round}

  /* cards grid */
  .grid{
    display:grid; gap:16px; margin:24px 0;
    grid-template-columns: repeat(12, 1fr);
  }
  .card{
    grid-column: span 12;
    background: var(--paper);
    border:2.5px solid var(--ink);
    border-radius:16px;
    box-shadow: 6px 6px 0 var(--ink), 0 8px 24px var(--shadow);
    padding:16px 16px 12px;
    position:relative;
    transition: transform .08s ease-in-out;
  }
  .card:hover{ transform: translateY(-2px) rotate(-.25deg) }
  .card h3{
    margin:0 0 6px; font-size: clamp(18px, 2.6vw, 24px);
  }
  .sketch-tag{
    display:inline-flex; align-items:center; gap:8px;
    border:2px dashed var(--ink); border-radius:999px;
    padding:6px 10px; font-weight:700; background:#fff3;
  }
  .note{
    background:#fff; padding:8px 10px; border:2px solid var(--ink); border-radius:10px;
    transform: rotate(-.6deg); display:inline-block; margin-top:4px;
  }
  .quote{
    font-style:italic; border-left:5px solid var(--accent); padding-left:10px; margin:8px 0 0;
  }
  .chip{
    display:inline-block; border:2px solid var(--ink); padding:6px 10px; border-radius:999px;
    background:#fff;
  }
  /* responsive spans */
  .span-6{grid-column: span 12}
  .span-4{grid-column: span 12}
  .span-8{grid-column: span 12}
  @media (min-width: 780px){
    .span-6{grid-column: span 6}
    .span-4{grid-column: span 4}
    .span-8{grid-column: span 8}
  }

  /* click-to-reveal */
  details{
    margin-top:8px;
    border:2px dashed var(--ink);
    border-radius:12px;
    padding:8px 10px;
    background: #fff;
  }
  summary{
    list-style:none; cursor:pointer; font-weight:800; position:relative; padding-left:28px;
  }
  summary::-webkit-details-marker{display:none}
  summary:before{
    content:"+";
    position:absolute; left:4px; top:50%; transform:translateY(-50%);
    width:18px; height:18px; border:2px solid var(--ink); border-radius:50%;
    display:grid; place-items:center; font-size:13px; background:#fff;
  }
  details[open] summary:before{content:"–"}

  /* timeline */
  .timeline{
    position:relative; padding:10px 0 0 0;
  }
  .timeline:before{
    content:""; position:absolute; left:12px; top:0; bottom:0; width:3px; background: var(--ink);
  }
  .t-item{
    position:relative; margin:0 0 16px 0; padding-left:38px;
  }
  .t-item:before{
    content:""; position:absolute; left:5px; top:6px; width:16px; height:16px;
    border:3px solid var(--ink); border-radius:50%; background:#fff;
  }

  /* sticky CTA bar */
  .cta{
    position:sticky; bottom:8px; margin-top:12px;
    display:flex; gap:12px; flex-wrap:wrap;
  }
  .btn{
    appearance:none; border:2.5px solid var(--ink); background:var(--accent);
    color:#0b0b0a; padding:10px 14px; border-radius:12px; font-weight:900; cursor:pointer;
    box-shadow:4px 4px 0 var(--ink); transform:rotate(-.6deg);
  }
  .btn.secondary{ background:#fff }
  .btn:active{ transform:translateY(2px) rotate(0deg); box-shadow:2px 2px 0 var(--ink) }

  /* modal */
  dialog{
    border:2.5px solid var(--ink); border-radius:16px; padding:0; width:min(760px, 92vw);
    box-shadow: 8px 8px 0 var(--ink), 0 24px 80px var(--shadow);
    background: var(--paper); color:var(--ink);
  }
  .dlg-head{
    padding:14px 16px; border-bottom:2px dashed var(--ink); display:flex; align-items:center; gap:10px;
  }
  .dlg-body{ padding:16px }
  .x{ margin-left:auto; border:2px solid var(--ink); background:#fff; border-radius:8px; padding:6px 10px; cursor:pointer }
  .kbd{ font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; padding:2px 6px; border:2px solid var(--ink); border-radius:6px; background:#fff }

  /* small doodle icons */
  .icon{width:22px; height:22px; display:inline-block; vertical-align:-5px}
  .megaphone{stroke:var(--ink); fill:none; stroke-width:2.5; stroke-linecap:round; stroke-linejoin:round}
  .spark{fill:var(--accent-2)}
  footer{ margin:28px 0 8px; opacity:.8; font-size:.9rem }
</style>
</head>
<body>
  <div class="wrap">
    <header>
      <span class="badge">Sketch-Note Edition</span>
      <h1>Squealer — The Propaganda Engine</h1>
      <p>
        A visual, interactive summary of Squealer’s role in <em>Animal Farm</em>: traits, key actions, and historical
        mapping to <strong>Pravda</strong> and state propaganda—presented as clickable sketch-notes.
      </p>
      <svg class="arrow" viewBox="0 0 220 120" aria-hidden="true">
        <path d="M5,90 C80,10 120,140 210,20 M205,25 l10,-10 M205,25 l-14,-1"/>
      </svg>
    </header>

    <section class="grid" aria-label="Key Sections">
      <!-- TRAITS -->
      <article class="card span-6" id="traits">
        <h3>
          <span class="sketch-tag">
            <svg class="icon" viewBox="0 0 24 24" aria-hidden="true"><g class="megaphone"><path d="M3 11l12-5v12L3 13v-2z"/><path d="M15 6l6-2v16l-6-2"/><path d="M7 14l-1 5h4l-1-4"/></g></svg>
            Traits
          </span>
        </h3>
        <p><span class="note">Eloquent · Persuasive · Manipulative</span></p>
        <details>
          <summary>See how he argues</summary>
          <p>
            He’s described as <em>skipping side-to-side</em> when arguing—showmanship that helps him sell distortions as truth.
          </p>
        </details>
      </article>

      <!-- QUOTE -->
      <article class="card span-6" id="quote">
        <h3>Signature Power</h3>
        <p class="quote">“He could turn black into white.”</p>
        <details>
          <summary>Why this matters</summary>
          <p>
            This line defines Squealer’s literary function: he inverts reality with rhetoric, making the unbelievable feel inevitable.
          </p>
        </details>
      </article>

      <!-- COMMANDMENTS -->
      <article class="card span-8" id="commandments">
        <h3>Rewriting the Rules</h3>
        <p>
          After the pigs discover whiskey, Squealer alters the commandment to read
          <strong>“No animal shall drink alcohol <u>to excess</u>.”</strong>
        </p>
        <details>
          <summary>Click to trace the logic</summary>
          <div class="timeline" role="list">
            <div class="t-item" role="listitem">
              <strong>Original moral contract</strong> → simple, absolute prohibitions.
            </div>
            <div class="t-item" role="listitem">
              <strong>Leader’s desire</strong> → self-serving exception appears.
            </div>
            <div class="t-item" role="listitem">
              <strong>Text changed</strong> → retroactive “legalization” of corruption.
            </div>
            <div class="t-item" role="listitem">
              <strong>Memory reshaped</strong> → animals accept the “new” truth.
            </div>
          </div>
        </details>
      </article>

      <!-- HISTORICAL PARALLEL -->
      <article class="card span-4" id="parallel">
        <h3>Historical Parallel</h3>
        <p>
          <span class="chip">Pravda (Soviet State Media)</span>
        </p>
        <details>
          <summary>What the parallel shows</summary>
          <p>
            As Pravda amplified the party line, Squealer filters all information so only the official narrative survives.
          </p>
        </details>
      </article>

      <!-- PROPAGANDA CONCEPT -->
      <article class="card span-6" id="concept">
        <h3>Concept: Propaganda</h3>
        <p>
          Systematic, state-controlled messaging to <em>control opinion</em>, <em>rewrite history</em>, and
          <em>demonize opponents</em>.
        </p>
        <details>
          <summary>Interactive checklist: spot the tactics</summary>
          <ul style="margin:6px 0 0 18px">
            <li><label><input type="checkbox"> Fear appeal (Jones will return!)</label></li>
            <li><label><input type="checkbox"> False authority (“Leadership knows best”)</label></li>
            <li><label><input type="checkbox"> Linguistic tweaks (“to excess”)</label></li>
            <li><label><input type="checkbox"> History revision (Snowball reframed)</label></li>
          </ul>
        </details>
      </article>

      <!-- ALLEGORY -->
      <article class="card span-6" id="allegory">
        <h3>Allegory: Squealer ↔ Pravda</h3>
        <p>
          Squealer is the <strong>mouthpiece</strong> that keeps Napoleon’s power stable by controlling what others think is true.
        </p>
        <details>
          <summary>Case study: The Battle of the Cowshed</summary>
          <p>
            Snowball’s role is progressively rewritten until he is branded a traitor—mirroring Stalinist revisionism against Trotsky
            (e.g., public denouncements and forged narratives).
          </p>
        </details>
      </article>
    </section>

    <!-- EXPLORE MORE -->
    <section class="card" id="explore">
      <h3>Explore Relationships</h3>
      <p>Tap a node to see how Squealer connects rhetoric to power.</p>
      <div id="map" style="background:#fff; border:2px dashed var(--ink); border-radius:12px; padding:10px;">
        <svg viewBox="0 0 760 300" width="100%" height="100%" role="img" aria-label="Relationship sketch map">
          <!-- nodes -->
          <defs>
            <filter id="wobble"><feTurbulence type="fractalNoise" baseFrequency=".7" numOctaves="1" result="noise"/><feDisplacementMap in="SourceGraphic" in2="noise" scale="1"/></filter>
          </defs>
          <g stroke="var(--ink)" fill="#fff" stroke-width="2.5" filter="url(#wobble)">
            <g class="node" data-title="Squealer" data-body="Chief propagandist; turns lies into common sense.">
              <rect x="320" y="28" rx="12" ry="12" width="120" height="40"></rect>
              <text x="380" y="54" text-anchor="middle" style="font-weight:800">Squealer</text>
            </g>
            <g class="node" data-title="Language" data-body="Eloquence + agile wordplay (e.g., 'to excess').">
              <rect x="70" y="150" rx="12" ry="12" width="140" height="40"></rect>
              <text x="140" y="176" text-anchor="middle">Language</text>
            </g>
            <g class="node" data-title="Fear" data-body="Threat of Jones’s return keeps animals compliant.">
              <rect x="300" y="210" rx="12" ry="12" width="120" height="40"></rect>
              <text x="360" y="236" text-anchor="middle">Fear</text>
            </g>
            <g class="node" data-title="Revisionism" data-body="History rewritten (Snowball as traitor).">
              <rect x="560" y="150" rx="12" ry="12" width="140" height="40"></rect>
              <text x="630" y="176" text-anchor="middle">Revisionism</text>
            </g>
          </g>
          <!-- arrows -->
          <g stroke="var(--ink)" stroke-width="3" fill="none" marker-end="url(#arrow)">
            <path d="M380,68 C380,110 360,130 210,150"/>
            <path d="M380,68 C380,120 390,180 360,210"/>
            <path d="M380,68 C430,100 520,120 630,150"/>
          </g>
          <!-- arrowhead -->
          <defs>
            <marker id="arrow" markerWidth="10" markerHeight="10" refX="8" refY="3" orient="auto">
              <path d="M0,0 L9,3 L0,6 z" fill="currentColor" />
            </marker>
          </defs>
        </svg>
      </div>
      <details style="margin-top:10px">
        <summary>What this map shows</summary>
        <p>
          From a single speaker (Squealer), language tricks, fear appeals, and historical revisionism branch out to protect power.
        </p>
      </details>
    </section>

    <div class="cta" role="group" aria-label="Actions">
      <button class="btn" data-open="#glossary">Open Quick Glossary</button>
      <button class="btn secondary" data-open="#sources">Show Source Notes</button>
    </div>

    <!-- GLOSSARY MODAL -->
    <dialog id="glossary">
      <div class="dlg-head">
        <strong>Quick Glossary</strong>
        <button class="x" data-close>Close</button>
      </div>
      <div class="dlg-body">
        <p><span class="kbd">Propaganda</span> — messaging designed to steer opinion and behavior for power retention.</p>
        <p><span class="kbd">Revisionism</span> — altering the record so the present leader is always right.</p>
        <p><span class="kbd">Fear Appeal</span> — “The alternative is worse,” repeated until it feels true.</p>
        <p><span class="kbd">Commandment Editing</span> — small textual tweaks with giant moral consequences.</p>
      </div>
    </dialog>

    <!-- SOURCES MODAL -->
    <dialog id="sources">
      <div class="dlg-head">
        <strong>Source Notes</strong>
        <button class="x" data-close>Close</button>
      </div>
      <div class="dlg-body">
        <ul>
          <li>Traits & narrator line (“turn black into white”).</li>
          <li>Commandment change: “No animal shall drink alcohol <em>to excess</em>.”</li>
          <li>Historical parallel: Pravda & state propaganda; revisionism around Snowball/Trotsky.</li>
        </ul>
        <p style="margin-top:10px"><em>This page distills your provided report content.</em></p>
      </div>
    </dialog>

    <footer>
      Tip: Click the <strong>+</strong> toggles and the <em>Open</em> buttons to reveal more. Press <span class="kbd">Esc</span> to close pop-ups.
    </footer>
  </div>

<script>
  // modal wiring
  document.querySelectorAll("[data-open]").forEach(btn=>{
    btn.addEventListener("click", ()=>{
      const dlg = document.querySelector(btn.dataset.open);
      if(dlg) dlg.showModal();
    });
  });
  document.querySelectorAll("[data-close]").forEach(btn=>{
    btn.addEventListener("click", ()=>{
      const dlg = btn.closest("dialog");
      if(dlg) dlg.close();
    });
  });
  // map click interactions – show tiny toast from SVG nodes
  const map = document.getElementById("map");
  const toast = document.createElement("div");
  toast.style.cssText = "position:fixed; left:50%; transform:translateX(-50%); bottom:18px; background:#fff; color:inherit; border:2px solid currentColor; border-radius:12px; padding:8px 12px; box-shadow:4px 4px 0 currentColor; display:none; z-index:9999; max-width:min(90vw, 720px)";
  document.body.appendChild(toast);
  let hideTimer;
  map.addEventListener("click", (e)=>{
    const node = e.target.closest(".node");
    if(!node) return;
    clearTimeout(hideTimer);
    toast.innerHTML = "<strong>" + node.dataset.title + ":</strong> " + node.dataset.body;
    toast.style.display = "block";
    hideTimer = setTimeout(()=> toast.style.display = "none", 2400);
  });
  // close dialogs on Esc (native) and backdrop click
  document.querySelectorAll("dialog").forEach(dlg=>{
    dlg.addEventListener("click", (e)=>{
      const rect = dlg.getBoundingClientRect();
      const inDialog = rect.top <= e.clientY && e.clientY <= rect.bottom
                    && rect.left <= e.clientX && e.clientX <= rect.right;
      if(!inDialog) dlg.close();
    });
  });
</script>
</body>
</html>
