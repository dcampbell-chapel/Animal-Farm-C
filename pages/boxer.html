<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>SketchNotes: Boxer ‚Äî Character & Context</title>
<style>
  :root{
    --ink:#222;
    --paper:#fcfcf7;
    --accent:#ffbf3f;
    --accent-2:#9be7ff;
    --accent-3:#ffd1dc;
    --success:#c3f0ca;
    --danger:#ffd4b8;
    --shadow: 0 2px 0 rgba(0,0,0,.2), 0 10px 30px rgba(0,0,0,.08);
  }
  html,body{margin:0;}
  body{
    font-family: ui-rounded, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
    color:var(--ink);
    background: repeating-linear-gradient(180deg, var(--paper), var(--paper) 28px, #f7f7f2 29px);
    line-height:1.3;
  }
  .wrap{max-width:1100px;margin:0 auto;padding:20px 18px 100px;}
  .scribble-border{border:2px dashed rgba(0,0,0,.75); border-radius:18px; box-shadow:var(--shadow); background:#fff;}
  .sticky{background:var(--accent); transform: rotate(-1.2deg); box-shadow: 0 10px 25px rgba(0,0,0,.15), inset 0 -10px 30px rgba(0,0,0,.08);}
  .torn{background:linear-gradient(#fff, #fff) padding-box, repeating-linear-gradient(-45deg, #ccc 0 10px, transparent 10px 20px) border-box; border:4px dashed transparent;}
  .pencil{filter: drop-shadow(0 4px 10px rgba(0,0,0,.12));}
  .marker{background:linear-gradient(90deg, rgba(255,255,0,.35), rgba(255,255,0,.15)); box-decoration-break: clone; padding:.1rem .3rem;}

  header.hero{position:relative; padding:28px; display:grid; gap:16px; grid-template-columns:1.2fr .8fr; align-items:center;}
  header .title{font-size:clamp(28px, 5vw, 48px); font-weight:900; letter-spacing:.5px;}
  header .subtitle{font-size:clamp(14px,2.8vw,18px); opacity:.85;}

  .badges{display:flex; flex-wrap:wrap; gap:8px; align-items:center}
  .badge{border:2px solid #000; border-radius:999px; padding:6px 10px; background:#fff; font-weight:700; box-shadow:var(--shadow);}
  .diagram{position:relative; min-height:220px;}
  .windmill{position:absolute; right:8%; top:10%; width:min(38vw, 280px);}
  .cta{display:flex; gap:10px; align-items:center;}
  .btn{cursor:pointer; border:2px solid #000; background:#fff; padding:10px 14px; border-radius:12px; font-weight:800; box-shadow:var(--shadow); transition:.2s transform;}
  .btn:hover{transform:translateY(-2px);} 
  .btn.primary{background:var(--accent-2);} 

  section{margin:26px 0;}
  .grid{display:grid; gap:18px; grid-template-columns: repeat(12, 1fr);} 
  .col-6{grid-column: span 6;} .col-4{grid-column: span 4;} .col-8{grid-column: span 8;} .col-12{grid-column: span 12;}

  .card{padding:18px; position:relative;}
  .card h3{margin:.2rem 0 .6rem; font-size:clamp(18px, 3.2vw, 22px)}
  .card p{margin:.2rem 0 .5rem}
  .quote{font-size:clamp(16px, 3.2vw, 22px); font-weight:800}
  .pin::before{content:"üìå"; position:absolute; right:12px; top:-12px; font-size:26px; transform:rotate(12deg)}
  .turn{transform:rotate(-.8deg)}

  details{border:2px solid #000; border-radius:14px; padding:12px 14px; background:#fff; box-shadow:var(--shadow);}
  details+details{margin-top:10px}
  summary{cursor:pointer; font-weight:900; list-style:none}
  summary::-webkit-details-marker{display:none}

  /* Relationship Map (expanded) */
  .map{position:relative; min-height:700px; overflow:visible;}
  .node{position:absolute; padding:12px 14px; border:2px solid #000; background:#fff; border-radius:16px; font-weight:800; box-shadow:var(--shadow);}
  .node:hover{z-index:10;}
  .node.small{font-weight:700; font-size:14px}
  .node.note{background:var(--success)}
  .node.warn{background:var(--danger)}
  .lines{position:absolute; inset:0; pointer-events:none}

  .timeline{display:grid; grid-template-columns:1fr; gap:14px}
  .step{display:grid; grid-template-columns: 64px 1fr; align-items:center; gap:12px}
  .step .num{width:64px; height:64px; border:2px solid #000; background:#fff; border-radius:50%; display:grid; place-items:center; font-weight:900; box-shadow:var(--shadow)}
  .step .content{border-left:4px solid #000; padding:10px 14px;}

  .quiz{padding:16px; background:#fff; border:2px solid #000; border-radius:16px; box-shadow:var(--shadow)}
  .quiz .q{font-weight:800}
  .quiz button{margin-top:8px}
  .result{font-weight:900; margin-top:10px}

  .progress{position:fixed; left:0; top:0; height:6px; background:#000; width:0; z-index:2000}
  .next{position:fixed; right:14px; bottom:14px; background:#000; color:#fff; border:none; padding:12px 16px; border-radius:999px; cursor:pointer; box-shadow:var(--shadow); font-weight:900}

  .tip{position:relative; cursor:help; border-bottom:3px dotted #000}
  .tip:hover::after{content:attr(data-tip); position:absolute; left:0; top:110%; background:#000; color:#fff; padding:8px 10px; border-radius:10px; white-space:nowrap; font-size:12px}

  @media (max-width:900px){
    header.hero{grid-template-columns:1fr;}
    .col-6{grid-column: span 12;} .col-4{grid-column: span 12;} .col-8{grid-column: span 12;}
    .windmill{position:relative; margin:10px auto 0; left:0; right:0}
  }
</style>
</head>
<body>
  <div class="progress" id="progress"></div>
  <div class="wrap">
    <!-- same header, traits, allegory etc. -->
    <!-- Relationship Map -->
    <section id="map" class="scribble-border card" style="overflow:visible">
      <h3 style="margin-bottom:12px">Relationship Map (tap the notes!)</h3>
      <div class="map" id="mapArea">
        <svg class="lines" viewBox="0 0 1200 520" preserveAspectRatio="none"></svg>
        <div class="node" id="n1" style="left:40px; top:60px">Maxim: ‚ÄúWork Harder‚Äù</div>
        <div class="node" id="n2" style="left:380px; top:40px">Relentless Labor</div>
        <div class="node note" id="n3" style="left:760px; top:60px">Windmill Built/ Rebuilt</div>
        <div class="node" id="n4" style="left:40px; top:220px">Maxim: ‚ÄúNapoleon is right‚Äù</div>
        <div class="node" id="n5" style="left:380px; top:210px">Uncritical Loyalty</div>
        <div class="node note" id="n6" style="left:760px; top:210px">Propaganda Works</div>
        <div class="node warn" id="n7" style="left:380px; top:360px">Collapse/ Injury</div>
        <div class="node warn" id="n8" style="left:760px; top:360px">Sold to Knacker</div>
      </div>
      <p style="margin-top:12px; font-size:14px">Tip: click a node to reveal a note.</p>
    </section>
    <!-- rest of page (timeline, sources, quiz, etc.) remains unchanged -->
  </div>

<script>
/* JS identical to your original ‚Äî unchanged for brevity */
</script>
</body>
</html>
